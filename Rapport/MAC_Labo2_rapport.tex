% -----------------------------------------------------------------------
% --- DOCUMENTS ---
% -----------------------------------------------------------------------
\documentclass[francais,12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{ae, pslatex}
\usepackage[french]{babel}
\selectlanguage{french} 

\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{pgfplots}
\usepackage{caption}
\usepackage{hyperref}
\hypersetup{
	colorlinks=true,
	linkcolor=blue,
	filecolor=magenta,      
	urlcolor=cyan,
}

\usepackage{titlesec}
\usepackage{color}
\usepackage{colortbl}

\usepackage{hhline,tabu}

\frenchbsetup{StandardLists=true}


\usepackage{listings} % pour afficher du code
\usepackage{color}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{  
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=4
}

\lstset{style=mystyle}

% -----------------------------------------------------------------------
% --- MARGES ---sp
% -----------------------------------------------------------------------
\usepackage{vmargin}
\setpapersize{A4}
\setmarginsrb{60pt}{50pt}{60pt}{25pt}{15pt}{25pt}{15pt}{25pt}

% -----------------------------------------------------------------------
% --- EN-TETE ET PIED DE PAGE ---
% -----------------------------------------------------------------------
\usepackage{fancyhdr}
\usepackage{lastpage}
\pagestyle{fancy}

\fancyhead[L]{MAC - Applications multi-tiers}
\fancyhead[R]{IL - TIC - HEIG-VD \\ Automne 2017}
\fancyfoot[C]{\thepage{}}

\title{Applications multi-tiers \\ Laboratoire n\textordmasculine2 : Transactions}
\author{Mathieu Monteverde, Sathiya Kirushnapillai, Michela Zucca}
\date{Automne 2017}

\titlespacing\section{0pt}{12pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}
\titlespacing\subsection{0pt}{12pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}
\titlespacing\subsubsection{0pt}{12pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}


% ***********************************************************************
% *** DOCUMENT PRINCIPAL ***
% ***********************************************************************
\begin{document}
	
	\maketitle
	
	\setlength{\parskip}{1em}
	
	\section*{Codes implémentés}
    Pour ce laboratoire, nous avons désactivé l'auto commit par défaut de MySQL.
	\lstinputlisting[language=SQL,firstline=186,lastline=191]{../labo2_procedures.sql}
    
    
    
    
    
	\section*{Tests réalisés}
    
	\subsection*{Mode non transactionnel}
	avec transférer1
	
		\begin{tabular}{|l|l|l|l|l|l|}
		\hline
		 Action & inter-blocage & cohérence & temps exécution & Compte 1 & Compte 2\\
		\hline
		\rowcolor{lightgray}\multicolumn{6}{|l|}{transférer1}\\
		\hline
		 & & & & &\\
		\hline
	\end{tabular}
	
	
	\subsection*{Mode transactionnel}
	avec transférer2, tranférer3 et transférer4\\
	4 modes d'isolation\\
	Read Uncommitted, REad Committed, Repeated REad et Serializable
	
	\begin{tabular}{|l|l|l|l|l|l|}
		\hline
		Mode transactionnel & inter-blocage & cohérence & temps exécution & Compte 1 & Compte 2\\
		\hline
		\rowcolor{lightgray}\multicolumn{6}{|l|}{transférer2}\\
		\hline
		Read Uncommitted  & & & & &\\
		\hline
		Read Committed   & & & & &\\
		\hline
		Repeated Read  & & & & &\\
		\hline
		Serializable  & & & & &\\
		\hline
		\rowcolor{lightgray}\multicolumn{6}{|l|}{transférer3}\\
		\hline
		Read Uncommitted  & & & & &\\
		\hline
		Read Committed  & & & & &\\
		\hline
		Repeated Read   & & & & &\\
		\hline
		Serializable   & & & & &\\
		\hline
		\rowcolor{lightgray}\multicolumn{6}{|l|}{transférer4}\\
		\hline
		Read Uncommitted  & & & & &\\
		\hline
		Read Committed  & & & & &\\
		\hline
		Repeated Read  & & & & &\\
		\hline
		Serializable  & & & & &\\
		\hline	
	\end{tabular}


\end{document}
